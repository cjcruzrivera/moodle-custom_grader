{"version":3,"sources":["../src/grader-service.js"],"names":["define","Vue","g_utils","cfg","COURSE_ID","getCourseId","BASE_URL","wwwroot","api_service","get","resource","http","then","response","body","catch","console","error","delete","post","data","data_","course","put","get_grader_data","courseId","function","courseid","update_grade","grade","send_info","update_category","category","update_item","item","add_category","weight","add_item","add_partial_exam","partial_exam","delete_item","itemId","delete_category","categoryId"],"mappings":"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","sourcesContent":["define([\n    'local_customgrader/vendor-vue',\n    'local_customgrader/grader-utils',\n    'core/config',\n], function (Vue, g_utils,  cfg) {\n    var COURSE_ID = g_utils.getCourseId();\n    var BASE_URL = `${cfg.wwwroot}/local/customgrader/managers/api.php`;\n    var api_service = {\n        get: (resource) => {\n            return Vue.http.get(`${BASE_URL}/${resource}`)\n                .then (response => response.body)\n                .catch(response => console.error(response))\n        } ,\n        delete: (resource) => {\n            return Vue.http.delete(`${BASE_URL}/${resource}`)\n                .then (response => response.body)\n                .catch(response => console.error(response))\n        },\n        post: (data) => {\n            const data_ = {\n                ...data,\n                course: COURSE_ID\n            };\n            return Vue.http.post(`${BASE_URL}`, data_)\n                .then( response=> response.body )\n                .catch(response => console.error(response));\n        },\n        put: (data) => {\n            const data_ = {\n                ...data,\n                course: COURSE_ID\n            };\n            return Vue.http.put(`${BASE_URL}`, data_)\n                .then( response=> response.body )\n                .catch(response => console.error(response));\n        }\n    };\n    return {\n        get_grader_data: (courseId) => {\n            const send_info = {function: \"get_grader_data\", courseid: courseId};\n            return api_service.post(send_info);\n        },\n\n        update_grade: (grade, courseId) => {\n            const send_info = {function: \"update_grade\", ...grade, courseid: courseId};\n            return api_service.post(send_info);\n        },\n        update_category: (category) => {\n            const send_info = {function: \"update_category\", category };\n            return api_service.post(send_info);\n        },\n        update_item: (item) => {\n            const send_info = {function: \"update_item\", item };\n            return api_service.post(send_info);\n        },\n\n        add_category: (category, weight) => {\n            const send_info = {function: \"add_category\", category,  weight};\n            return api_service.post(send_info);\n        },\n        add_item: (item) => {\n            const send_info = {function: \"add_item\", item: item };\n            return api_service.post(send_info);\n        },\n        add_partial_exam: (partial_exam) => {\n            const send_info = {function: \"add_partial_exam\", partial_exam };\n            return api_service.post(send_info)\n        },\n\n        delete_item: (itemId) => {\n            const send_info = {function: \"delete_item\", itemId: itemId};\n            return api_service.post(send_info);\n        },\n        delete_category: (categoryId) => {\n            const send_info = {function: \"delete_category\", categoryId: categoryId};\n            return api_service.post(send_info);\n        }\n    };\n});"],"file":"grader-service.min.js"}