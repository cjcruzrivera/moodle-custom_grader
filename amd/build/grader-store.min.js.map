{"version":3,"sources":["../src/grader-store.js"],"names":["define","g_utils","g_enums","g_service","Vue","_","sortStudents","students","sortStudentMethodType","name","sortStudentMethods","FIRST_NAME","orderBy","order","LAST_NAME","mutationsType","ADD_GRADE","DELETE_CATEGORY","ADD_ITEM","ADD_CATEGORY","ADD_GRADE_TO_STUDENT","SET_STATE","SET_GRADE","SET_GRADES","SET_CATEGORY","SET_STUDENT_SORT_METHOD","SET_SELECTED_CATEGORY_ID","SET_LEVELS","SET_ITEM","DELETE_ITEM","DELETE_GRADE","actionsType","FETCH_STATE","FILL_GRADES","FILL_GRADES_FOR_NEW_ITEM","UPDATE_GRADE","DELETE_CATEGORY_CHILDS","UPDATE_CATEGORY","ADD_PARTIAL_EXAM","UPDATE_ITEM","DELETE_ITEM_GRADES","store","state","decimalPlaces","additionalColumnsAtFirst","text","hide","additionalColumnsAtEnd","sortStudentsMethodType","sortDirection","ASC","selectedCategoryId","items","categories","grades","levels","course","fullname","maxDisplayGrade","gradeDisplayRange","mutations","itemId","delete","categoryId","categoryIndex","map","category","id","indexOf","sortMethodType","gradeId","Object","keys","forEach","studentId","student","set","gradeIds","filter","_gradeId","item","push","grade","ID","userid","studentGradeIds","payload","newItem","newCategory","category_index","newGrades","newGrade","oldGrade","values","find","itemid","finalgrade","removeInsignificantTrailZeros","console","log","newGradeIds","old","new","newSelectedId","newState","studentsDict","itemsDict","gradesDict","actions","commit","dispatch","delete_item","then","response","add_item","gradeIdsToDelete","partialExam","getters","add_partial_exam","partial_item","optional_item","childItems","categoryChildItems","childCategories","categoryChildCategories","delete_category","studentIds","rawgrademin","grademin","rawgrademax","grademax","itemOrderIds","gradeResult","update_grade","other_grades","update_category","add_category","weight","category_item","update_item","get_grader_data","getCourseId","courseLevel","selectedCategory","categoryById","itemLevel","length","categoryLevels","slice","itemsCount","studentById","studentSetSorted","studentSet","studentsCount","studentsAsesCount","is_ases","itemSet","isWeightHundred","categoryIds","getCategoryIds","categoryWeightsIsHundred","i","isCourse","weights","getWeightsByCat","total","reduce","a","b","categoryid","aggregationcoef","getWeights","catIds","element","object","itemOrderedNames","itemname","iteminstance","finalGradeId","idCategory","children","Array","isArray","parent","categoryChildSize","categoryDepth","depths","depth","Math","max","apply","getCategoriesByDepth","gradesSet","gradesByItemId","passingGrades","passingGradesSet","failingGrades","failingGradesSet","nullGrades","nullGradesSet","passingGradesCount","failingGradesCount","nullGradesCount","finalGradesSet","finalPassingGradeSet","lineGraphLabel","label","number","left","range","getGradesByRange","lastMax","currentMax","data","weightedGrades"],"mappings":"s3EAAAA,OAAM,mCAAC,CACH,iCADG,CAEH,iCAFG,CAGH,mCAHG,CAIH,+BAJG,CAKH,kCALG,CAAD,CAMH,SAAUC,CAAV,CAAmBC,CAAnB,CAA4BC,CAA5B,CAAuCC,CAAvC,CAA4CC,CAA5C,CAA+C,SAa1CC,CAAY,CAAG,SAAUC,CAAV,CAAoBC,CAApB,CAA2C,CAC1D,OAAQA,CAAqB,CAACC,IAA9B,EACI,IAAKP,CAAAA,CAAO,CAACQ,kBAAR,CAA2BC,UAAhC,CACI,MAAON,CAAAA,CAAC,CAACO,OAAF,CAAUL,CAAV,CAAoB,CAAC,WAAD,CAApB,CAAmCC,CAAqB,CAACK,KAAzD,CAAP,CACJ,IAAKX,CAAAA,CAAO,CAACQ,kBAAR,CAA2BI,SAAhC,CACI,MAAOT,CAAAA,CAAC,CAACO,OAAF,CAAUL,CAAV,CAAoB,CAAC,UAAD,CAApB,CAAkCC,CAAqB,CAACK,KAAxD,CAAP,CAJR,CAMH,CApB6C,CAqB1CE,CAAa,CAAG,CAChBC,SAAS,CAAE,UADK,CAEhBC,eAAe,CAAE,gBAFD,CAGhBC,QAAQ,CAAE,SAHM,CAIhBC,YAAY,CAAE,aAJE,CAKhBC,oBAAoB,CAAE,mBALN,CAMhBC,SAAS,CAAE,aANK,CAOhBC,SAAS,CAAE,UAPK,CAQhBC,UAAU,CAAE,WARI,CAShBC,YAAY,CAAE,aATE,CAUhBC,uBAAuB,CAAE,sBAVT,CAWhBC,wBAAwB,CAAE,uBAXV,CAYhBC,UAAU,CAAE,WAZI,CAahBC,QAAQ,CAAE,SAbM,CAchBC,WAAW,CAAE,YAdG,CAehBC,YAAY,CAAE,kBAfE,CArB0B,CAsC1CC,CAAW,CAAG,CACdC,WAAW,CAAE,eADC,CAEdC,WAAW,CAAE,YAFC,CAGdC,wBAAwB,CAAE,sBAHZ,CAIdC,YAAY,CAAE,aAJA,CAKdN,WAAW,CAAE,YALC,CAMdO,sBAAsB,CAAE,sBANV,CAOdC,eAAe,CAAE,aAPH,CAQdnB,QAAQ,CAAE,SARI,CASdoB,gBAAgB,CAAE,gBATJ,CAUdrB,eAAe,CAAE,gBAVH,CAWdE,YAAY,CAAE,aAXA,CAYdoB,WAAW,CAAE,SAZC,CAadC,kBAAkB,CAAE,kBAbN,CAtC4B,CAqD1CC,CAAK,CAAG,CAERC,KAAK,CAAG,CACJC,aAAa,CAAE,CADX,CAEJC,wBAAwB,CAAE,CAtDT,CAACC,IAAI,CAAE,sBAAP,CAsDS,CArDR,CAACA,IAAI,CAAE,EAAP,CAAWC,IAAI,GAAf,CAqDQ,CAFtB,CAMJC,sBAAsB,CAAE,CA3DP,CAACF,IAAI,CAAE,YAAP,CA2DO,CANpB,CASJG,sBAAsB,CAAE,CACpBvC,IAAI,CAAEP,CAAO,CAACQ,kBAAR,CAA2BI,SADb,CAEpBD,KAAK,CAAEX,CAAO,CAAC+C,aAAR,CAAsBC,GAFT,CATpB,CAaJ3C,QAAQ,CAAkC,EAbtC,CAcJ4C,kBAAkB,CAAE,IAdhB,CAeJC,KAAK,CAA2B,EAf5B,CAgBJC,UAAU,CAAyB,EAhB/B,CAiBJC,MAAM,CAA6B,EAjB/B,CAkBJC,MAAM,CAAE,EAlBJ,CAoBJC,MAAM,CAAE,CAACC,QAAQ,CAAE,6BAAX,CApBJ,CAqBJC,eAAe,CAAE,CArBb,CAsBJC,iBAAiB,CAAE,EAtBf,CAFA,CA2BRC,SAAS,yBACJ7C,CAAa,CAACc,WADV,UACwBa,CADxB,CAC+BmB,CAD/B,CACuC,CACxCzD,CAAG,CAAC0D,MAAJ,CAAWpB,CAAK,CAACU,KAAjB,CAAwBS,CAAxB,CACH,CAHI,oBAIJ9C,CAAa,CAACE,eAJV,UAI4ByB,CAJ5B,CAImCqB,CAJnC,CAI+C,CAChD,GAAMC,CAAAA,CAAa,CAAGtB,CAAK,CAACW,UAAN,CACjBY,GADiB,CACb,SAAAC,CAAQ,QAAIA,CAAAA,CAAQ,CAACC,EAAb,CADK,EAEjBC,OAFiB,CAETL,CAFS,CAAtB,CAGA3D,CAAG,CAAC0D,MAAJ,CAAWpB,CAAK,CAACW,UAAjB,CAA6BW,CAA7B,CACH,CATI,oBAUJjD,CAAa,CAACU,uBAVV,UAUmCiB,CAVnC,CAU0C2B,CAV1C,CAU0D,CAC3D3B,CAAK,CAACM,sBAAN,CAA+BqB,CAClC,CAZI,oBAaJtD,CAAa,CAACe,YAbV,UAayBY,CAbzB,CAagC4B,CAbhC,CAayC,CAC1CC,MAAM,CAACC,IAAP,CAAY9B,CAAK,CAACnC,QAAlB,EAA4BkE,OAA5B,CAAqC,SAAAC,CAAS,CAAI,CAC1C,GAAMC,CAAAA,CAAO,CAAGjC,CAAK,CAACnC,QAAN,CAAemE,CAAf,CAAhB,CACAtE,CAAG,CAACwE,GAAJ,CACIlC,CAAK,CAACnC,QAAN,CAAemE,CAAf,CADJ,CAEI,UAFJ,CAGIC,CAAO,CAACE,QAAR,CAAiBC,MAAjB,CAAwB,SAAAC,CAAQ,QAAIA,CAAAA,CAAQ,GAAKT,CAAjB,CAAhC,CAHJ,CAKH,CAPL,EASAlE,CAAG,CAAC0D,MAAJ,CAAWpB,CAAK,CAACY,MAAjB,CAAyBgB,CAAzB,CACH,CAxBI,oBAyBJvD,CAAa,CAACG,QAzBV,UAyBoBwB,CAzBpB,CAyB2BsC,CAzB3B,CAyBiC,CAClC5E,CAAG,CAACwE,GAAJ,CAAQlC,CAAK,CAACU,KAAd,CAAqB4B,CAAI,CAACb,EAA1B,CAA8Ba,CAA9B,CACH,CA3BI,oBA4BJjE,CAAa,CAACI,YA5BV,UA4BwBuB,CA5BxB,CA4B+BwB,CA5B/B,CA4ByC,CAC1CxB,CAAK,CAACW,UAAN,CAAiB4B,IAAjB,CAAsBf,CAAtB,CACH,CA9BI,oBA+BJnD,CAAa,CAACC,SA/BV,UA+BsB0B,CA/BtB,CA+B6BwC,CA/B7B,CA+BoC,CACrCA,CAAK,CAACf,EAAN,CAAWlE,CAAO,CAACkF,EAAR,EAAX,CADqC,GAEjCR,CAAAA,CAAO,CAAGjC,CAAK,CAACnC,QAAN,CAAe2E,CAAK,CAACE,MAArB,CAFuB,CAGjCC,CAAe,CAAGV,CAAO,CAACE,QAAR,CAAkBF,CAAO,CAACE,QAA1B,CAAoC,EAHrB,CAIrCzE,CAAG,CAACwE,GAAJ,CAAQlC,CAAK,CAACY,MAAd,CAAsB4B,CAAK,CAACf,EAA5B,CAAgCe,CAAhC,EACA9E,CAAG,CAACwE,GAAJ,CAAQlC,CAAK,CAACnC,QAAN,CAAeoE,CAAO,CAACR,EAAvB,CAAR,CAAoC,UAApC,8BAAoDkB,CAApD,GAAqEH,CAAK,CAACf,EAA3E,GACH,CArCI,oBAsCJpD,CAAa,CAACK,oBAtCV,UAsCiCsB,CAtCjC,CAsCwC4C,CAtCxC,CAsCiD,IAC9CJ,CAAAA,CAAK,CAAGI,CAAO,CAACJ,KAD8B,CAE9CR,CAAS,CAAGY,CAAO,CAACZ,SAF0B,CAG9CC,CAAO,CAAGjC,CAAK,CAACnC,QAAN,CAAemE,CAAf,CAHoC,CAI9CW,CAAe,CAAGV,CAAO,CAACE,QAAR,CAAkBF,CAAO,CAACE,QAA1B,CAAoC,EAJR,CAKlDzE,CAAG,CAACwE,GAAJ,CAAQlC,CAAK,CAACnC,QAAN,CAAemE,CAAf,CAAR,CAAmC,UAAnC,8BAAmDW,CAAnD,GAAoEH,CAAK,CAACf,EAA1E,GACH,CA5CI,oBA6CJpD,CAAa,CAACa,QA7CV,UA6CqBc,CA7CrB,CA6C4B6C,CA7C5B,CA6CqC,CACtCnF,CAAG,CAACwE,GAAJ,CAAQlC,CAAK,CAACU,KAAd,CAAqBmC,CAAO,CAACpB,EAA7B,CAAiCoB,CAAjC,CACH,CA/CI,oBAgDJxE,CAAa,CAACY,UAhDV,UAgDuBe,CAhDvB,CAgD8Ba,CAhD9B,CAgDsC,CACvCb,CAAK,CAACa,MAAN,CAAeA,CAClB,CAlDI,oBAmDJxC,CAAa,CAACS,YAnDV,UAmDyBkB,CAnDzB,CAmDgC8C,CAnDhC,CAmD6C,CAC9C,GAAIC,CAAAA,CAAc,CAAG/C,CAAK,CAACW,UAAN,CAAiBY,GAAjB,CAAqB,SAAAC,CAAQ,QAAIA,CAAAA,CAAQ,CAACC,EAAb,CAA7B,EAA8CC,OAA9C,CAAsDoB,CAAW,CAACrB,EAAlE,CAArB,CACA/D,CAAG,CAACwE,GAAJ,CAAQlC,CAAK,CAACW,UAAd,CAA0BoC,CAA1B,CAA0CD,CAA1C,CACH,CAtDI,oBAuDJzE,CAAa,CAACQ,UAvDV,UAuDuBmB,CAvDvB,CAuD8BgD,CAvD9B,CAuDyC,CAC1CA,CAAS,CAACjB,OAAV,CAAkB,SAAAkB,CAAQ,CAAI,CAC1B,GAAMC,CAAAA,CAAQ,CAAGrB,MAAM,CAACsB,MAAP,CAAcnD,CAAK,CAACY,MAApB,EAA4BwC,IAA5B,CAAiC,SAAAZ,CAAK,QACnDA,CAAAA,CAAK,CAACa,MAAN,GAAiBJ,CAAQ,CAACI,MAA1B,EACAb,CAAK,CAACE,MAAN,GAAiBO,CAAQ,CAACP,MAFyB,CAAtC,CAAjB,CAIAO,CAAQ,CAACK,UAAT,CAAsB/F,CAAO,CAACgG,6BAAR,CAAsCN,CAAQ,CAACK,UAA/C,CAAtB,CAEA,GAAGJ,CAAQ,CAACI,UAAT,EAAuBL,CAAQ,CAACK,UAAnC,CAA8C,CAC1CE,OAAO,CAACC,GAAR,CAAY,UAAZ,EAGA,GAAG,CAACzD,CAAK,CAACY,MAAN,CAAaqC,CAAQ,CAACxB,EAAtB,CAAJ,CAA+B,CAC3BzB,CAAK,CAACY,MAAN,CAAaqC,CAAQ,CAACxB,EAAtB,EAA6BwB,CAA7B,CAD2B,GAErBN,CAAAA,CAAe,CAAG3C,CAAK,CAACnC,QAAN,CAAeqF,CAAQ,CAACR,MAAxB,EAAgCP,QAF7B,CAGrBuB,CAAW,8BACTf,CAAe,CAACP,MAAhB,CAAuB,SAAAR,CAAO,QAAIA,CAAAA,CAAO,GAAKsB,CAAQ,CAACzB,EAAzB,CAA9B,CADS,GACmDwB,CAAQ,CAACxB,EAD5D,EAHU,CAK3BzB,CAAK,CAACnC,QAAN,CAAeoF,CAAQ,CAACP,MAAxB,mBAAsC1C,CAAK,CAACnC,QAAN,CAAeoF,CAAQ,CAACP,MAAxB,CAAtC,EAAuEP,QAAQ,CAAEuB,CAAjF,GACAhG,CAAG,CAAC0D,MAAJ,CAAWpB,CAAK,CAACY,MAAjB,CAAyBsC,CAAQ,CAACzB,EAAlC,CACH,CACD/D,CAAG,CAACwE,GAAJ,CAAQlC,CAAK,CAACY,MAAd,CAAsBqC,CAAQ,CAACxB,EAA/B,CAAmCwB,CAAnC,CACH,CACJ,CArBD,CAsBH,CA9EI,oBA+EJ5E,CAAa,CAACO,SA/EV,UA+EsBoB,CA/EtB,CA+E6B4C,CA/E7B,CA+EsC,IACnCM,CAAAA,CAAQ,CAAGN,CAAO,CAACe,GADgB,CAEnCV,CAAQ,CAAGL,CAAO,CAACgB,GAFgB,CAGvCX,CAAQ,CAACK,UAAT,CAAsB/F,CAAO,CAACgG,6BAAR,CAAsCN,CAAQ,CAACK,UAA/C,CAAtB,CACAtD,CAAK,CAACY,MAAN,CAAaqC,CAAQ,CAACxB,EAAtB,EAA4BwB,CAA5B,CACA,GAAIC,CAAJ,CAAe,CACX,GAAIA,CAAQ,CAACzB,EAAT,GAAgBwB,CAAQ,CAACxB,EAA7B,CAAiC,IACvBkB,CAAAA,CAAe,CAAG3C,CAAK,CAACnC,QAAN,CAAeqF,CAAQ,CAACR,MAAxB,EAAgCP,QAD3B,CAEvBuB,CAAW,8BACTf,CAAe,CAACP,MAAhB,CAAuB,SAAAR,CAAO,QAAIA,CAAAA,CAAO,GAAKsB,CAAQ,CAACzB,EAAzB,CAA9B,CADS,GACmDwB,CAAQ,CAACxB,EAD5D,EAFY,CAI7BzB,CAAK,CAACnC,QAAN,CAAeqF,CAAQ,CAACR,MAAxB,mBAAsC1C,CAAK,CAACnC,QAAN,CAAeqF,CAAQ,CAACR,MAAxB,CAAtC,EAAuEP,QAAQ,CAAEuB,CAAjF,GACAhG,CAAG,CAAC0D,MAAJ,CAAWpB,CAAK,CAACY,MAAjB,CAAyBsC,CAAQ,CAACzB,EAAlC,CACH,CACJ,CACJ,CA7FI,oBA8FJpD,CAAa,CAACW,wBA9FV,UA8FqCgB,CA9FrC,CA8F4C6D,CA9F5C,CA8F2D,CAC5D7D,CAAK,CAACS,kBAAN,CAA2BoD,CAC9B,CAhGI,oBAiGJxF,CAAa,CAACM,SAjGV,UAiGsBqB,CAjGtB,CAiG6B8D,CAjG7B,CAiGuC,CACxC9D,CAAK,CAACa,MAAN,CAAeiD,CAAQ,CAACjD,MAAxB,CACA,GAAIkD,CAAAA,CAAY,CAAG,EAAnB,CACAD,CAAQ,CAACjG,QAAT,CAAkBkE,OAAlB,CAA0B,SAAAE,CAAO,CAAI,CACjC8B,CAAY,CAAC9B,CAAO,CAACR,EAAT,CAAZ,CAA2BQ,CAC9B,CAFD,EAGAjC,CAAK,CAACnC,QAAN,CAAiBkG,CAAjB,CACA,GAAIC,CAAAA,CAAS,CAAG,EAAhB,CACAF,CAAQ,CAACpD,KAAT,CAAeqB,OAAf,CAAuB,SAAAO,CAAI,CAAI,CAC3B0B,CAAS,CAAC1B,CAAI,CAACb,EAAN,CAAT,CAAqBa,CACxB,CAFD,EAGAtC,CAAK,CAACU,KAAN,CAAcsD,CAAd,CACAhE,CAAK,CAACW,UAAN,CAAmBmD,CAAQ,CAACnD,UAA5B,CACA,GAAIsD,CAAAA,CAAU,CAAG,EAAjB,CACAH,CAAQ,CAAClD,MAAT,CAAgBmB,OAAhB,CAAwB,SAAAS,CAAK,CAAI,CAC7ByB,CAAU,CAACzB,CAAK,CAACf,EAAP,CAAV,kBAA2Be,CAA3B,EAAkCc,UAAU,CAAE/F,CAAO,CAACgG,6BAAR,CAAsCf,CAAK,CAACc,UAA5C,CAA9C,EACH,CAFD,EAGAtD,CAAK,CAACY,MAAN,CAAeqD,CAAf,CACAjE,CAAK,CAACc,MAAN,CAAegD,CAAQ,CAAChD,MAC3B,CApHI,IA3BD,CAiJRoD,OAAO,yBACF7E,CAAW,CAACF,WADV,YACmDgC,CADnD,CAC2D,IAAlCgD,CAAAA,CAAkC,GAAlCA,MAAkC,CAA1BC,CAA0B,GAA1BA,QAA0B,CAAhBpE,CAAgB,GAAhBA,KAAgB,CAC1DvC,CAAS,CAAC4G,WAAV,CAAsBlD,CAAtB,EACKmD,IADL,CACW,SAAAC,CAAQ,CAAI,CACfJ,CAAM,CAAC9F,CAAa,CAACY,UAAf,CAA2BsF,CAAQ,CAAC1D,MAApC,CAAN,CACAsD,CAAM,CAAC9F,CAAa,CAACc,WAAf,CAA4BgC,CAA5B,CAAN,CACAiD,CAAQ,CAAC/E,CAAW,CAACS,kBAAb,CAAiCqB,CAAjC,CACX,CALL,CAMH,CARE,oBASF9B,CAAW,CAACb,QATV,YASyC8D,CATzC,CAS+C,IAAzB6B,CAAAA,CAAyB,GAAzBA,MAAyB,CAAjBC,CAAiB,GAAjBA,QAAiB,CAC9C3G,CAAS,CAAC+G,QAAV,CAAmBlC,CAAnB,EACKgC,IADL,CACU,SAAAC,CAAQ,CAAI,CACdJ,CAAM,CAAC9F,CAAa,CAACG,QAAf,CAAyB+F,CAAQ,CAACjC,IAAlC,CAAN,CACA6B,CAAM,CAAC9F,CAAa,CAACY,UAAf,CAA2BsF,CAAQ,CAAC1D,MAApC,CAAN,CACAuD,CAAQ,CAAC/E,CAAW,CAACG,wBAAb,CAAuC+E,CAAQ,CAACjC,IAAhD,CACX,CALL,CAMH,CAhBE,oBAiBFjD,CAAW,CAACS,kBAjBV,YAiB+CqB,CAjB/C,CAiBuD,IAAxBgD,CAAAA,CAAwB,GAAxBA,MAAwB,CAAhBnE,CAAgB,GAAhBA,KAAgB,CAClDmC,CAAQ,CAAGN,MAAM,CAACC,IAAP,CAAY9B,CAAK,CAACY,MAAlB,CADuC,CAElD6D,CAAgB,CAAG,EAF+B,CAGtDtC,CAAQ,CAACJ,OAAT,CAAiB,SAAAH,CAAO,CAAI,CACxB,GAAG5B,CAAK,CAACY,MAAN,CAAagB,CAAb,EAAsByB,MAAtB,GAAiClC,CAApC,CAA4C,CACxCsD,CAAgB,CAAClC,IAAjB,CAAsBX,CAAtB,CACH,CACJ,CAJD,EAKA6C,CAAgB,CAAC1C,OAAjB,CAAyB,SAAAH,CAAO,CAAI,CAChCuC,CAAM,CAAC9F,CAAa,CAACe,YAAf,CAA6BwC,CAA7B,CACT,CAFD,CAGH,CA5BE,oBA6BFvC,CAAW,CAACO,gBA7BV,YA6BgD8E,CA7BhD,CA6B6D,IAA/BP,CAAAA,CAA+B,GAA/BA,MAA+B,CAAvBQ,CAAuB,GAAvBA,OAAuB,CAC5DlH,CAAS,CAACmH,gBAAV,CAA2BF,CAA3B,EACKJ,IADL,CACU,SAAAC,CAAQ,CAAI,CACdJ,CAAM,CAAC9F,CAAa,CAACY,UAAf,CAA2BsF,CAAQ,CAAC1D,MAApC,CAAN,CACAsD,CAAM,CAAC9F,CAAa,CAACI,YAAf,CAA6B8F,CAAQ,CAAC/C,QAAtC,CAAN,CACA2C,CAAM,CAAC9F,CAAa,CAACG,QAAf,CAAyB+F,CAAQ,CAACM,YAAlC,CAAN,CACAV,CAAM,CAAC9F,CAAa,CAACG,QAAf,CAAyB+F,CAAQ,CAACO,aAAlC,CACT,CANL,CAOH,CArCE,oBAsCFzF,CAAW,CAACK,sBAtCV,YAsCgE2B,CAtChE,CAsC4E,IAAxC8C,CAAAA,CAAwC,GAAxCA,MAAwC,CAAhCQ,CAAgC,GAAhCA,OAAgC,CAAvBP,CAAuB,GAAvBA,QAAuB,CACrEW,CAAU,CAAGJ,CAAO,CAACK,kBAAR,CAA2B3D,CAA3B,CADwD,CAErE4D,CAAe,CAAGN,CAAO,CAACO,uBAAR,CAAgC7D,CAAhC,CAFmD,CAG3E0D,CAAU,CAAChD,OAAX,CAAmB,SAAAO,CAAI,CAAI,CACvB6B,CAAM,CAAC9F,CAAa,CAACc,WAAf,CAA4BmD,CAAI,CAACb,EAAjC,CAAN,CACA2C,CAAQ,CAAC/E,CAAW,CAACS,kBAAb,CAAiCwC,CAAI,CAACb,EAAtC,CACX,CAHD,EAIAwD,CAAe,CAAClD,OAAhB,CAAwB,SAAAP,CAAQ,CAAI,CAChC2C,CAAM,CAAC9F,CAAa,CAACE,eAAf,CAAgCiD,CAAQ,CAACC,EAAzC,CACT,CAFD,CAIH,CAjDE,oBAkDFpC,CAAW,CAACd,eAlDV,YAkDyD8C,CAlDzD,CAkDqE,IAAxC8C,CAAAA,CAAwC,GAAxCA,MAAwC,CAAhCQ,CAAgC,GAAhCA,OAAgC,CAAvBP,CAAuB,GAAvBA,QAAuB,CACpE3G,CAAS,CAAC0H,eAAV,CAA0B9D,CAA1B,EACKiD,IADL,CACU,SAAAC,CAAQ,CAAI,CACdJ,CAAM,CAAC9F,CAAa,CAACY,UAAf,CAA2BsF,CAAQ,CAAC1D,MAApC,CAAN,CACAuD,CAAQ,CAAC/E,CAAW,CAACK,sBAAb,CAAqC2B,CAArC,CAAR,CACA8C,CAAM,CAAC9F,CAAa,CAACE,eAAf,CAAgC8C,CAAhC,CAET,CANL,CAOH,CA1DE,oBA2DFhC,CAAW,CAACG,wBA3DV,YA2D+D8C,CA3D/D,CA2DqE,IAA/B6B,CAAAA,CAA+B,GAA/BA,MAA+B,CAAvBnE,CAAuB,GAAvBA,KAAuB,CAAhB2E,CAAgB,GAAhBA,OAAgB,CAChES,CAAU,CAAGvD,MAAM,CAACC,IAAP,CAAY9B,CAAK,CAACnC,QAAlB,CADmD,CAEpEuH,CAAU,CAACrD,OAAX,CAAmB,SAAAC,CAAS,CAAI,CAC5B,GAAIQ,CAAAA,CAAK,CAAG,CACRE,MAAM,CAAEV,CADA,CAERqB,MAAM,CAAEf,CAAI,CAACb,EAFL,CAGR6B,UAAU,CAAE,IAHJ,CAIR+B,WAAW,CAAE/C,CAAI,CAACgD,QAJV,CAKRC,WAAW,CAAEjD,CAAI,CAACkD,QALV,CAAZ,CAOArB,CAAM,CAAC9F,CAAa,CAACC,SAAf,CAA0BkE,CAA1B,CACT,CATD,CAUH,CAvEE,oBAiFFnD,CAAW,CAACE,WAjFV,YAiFoD,IAA1B4E,CAAAA,CAA0B,GAA1BA,MAA0B,CAAlBnE,CAAkB,GAAlBA,KAAkB,CAAX2E,CAAW,GAAXA,OAAW,CAC/CS,CAAU,CAAGvD,MAAM,CAACC,IAAP,CAAY9B,CAAK,CAACnC,QAAlB,CADkC,CAE/C+C,CAAM,CAAGiB,MAAM,CAACsB,MAAP,CAAcnD,CAAK,CAACY,MAApB,CAFsC,CAGnDwE,CAAU,CAACrD,OAAX,CAAmB,SAAAC,CAAS,CAAI,kCACV2C,CAAO,CAACc,YADE,yBACpBtE,CADoB,YAEpBmB,CAAAA,CAAI,CAAGtC,CAAK,CAACU,KAAN,CAAYS,CAAZ,CAFa,CAGpBuE,CAAW,CAAG9E,CAAM,CAACwC,IAAP,CAAY,SAAAZ,CAAK,QAAIA,CAAAA,CAAK,CAACE,MAAN,GAAiBV,CAAjB,EAA8BQ,CAAK,CAACa,MAAN,GAAiBf,CAAI,CAACb,EAAxD,CAAjB,CAHM,CAIxB,GAAG,CAACiE,CAAJ,CAAiB,CACb,GAAIlD,CAAAA,CAAK,CAAG,CACRE,MAAM,CAAEV,CADA,CAERqB,MAAM,CAAEf,CAAI,CAACb,EAFL,CAGR6B,UAAU,CAAE,IAHJ,CAIR+B,WAAW,CAAE/C,CAAI,CAACgD,QAJV,CAKRC,WAAW,CAAEjD,CAAI,CAACkD,QALV,CAAZ,CAOArB,CAAM,CAAC9F,CAAa,CAACC,SAAf,CAA0BkE,CAA1B,CACT,CATD,IASO,CACH2B,CAAM,CAAC9F,CAAa,CAACK,oBAAf,CAAqC,CAACsD,SAAS,CAAEA,CAAZ,CAAuBQ,KAAK,CAAEkD,CAA9B,CAArC,CACT,CAfuB,EAC5B,2BAAkF,IAA1EvE,CAAAA,CAA0E,IAejF,CAhB2B,+BAkB/B,CAlBD,CAmBH,CAvGE,oBAwGF9B,CAAW,CAACI,YAxGV,YAwG0C+C,CAxG1C,CAwGiD,IAAvB2B,CAAAA,CAAuB,GAAvBA,MAAuB,CAAfnE,CAAe,GAAfA,KAAe,CAChDvC,CAAS,CAACkI,YAAV,CAAuBnD,CAAvB,CAA8BxC,CAAK,CAACc,MAAN,CAAaW,EAA3C,EACK6C,IADL,CACW,SAAAC,CAAQ,CAAI,CACff,OAAO,CAACC,GAAR,CAAYc,CAAZ,EAEAJ,CAAM,CAAC9F,CAAa,CAACQ,UAAf,CAA2B0F,CAAQ,CAACqB,YAApC,CACT,CALL,CAMH,CA/GE,oBAgHFvG,CAAW,CAACM,eAhHV,YAgH+C6B,CAhH/C,CAgHyD,IAA7B4C,CAAAA,CAA6B,GAA7BA,QAA6B,CAAnBD,CAAmB,GAAnBA,MAAmB,CACxD1G,CAAS,CAACoI,eAAV,CAA0BrE,CAA1B,EACK8C,IADL,CACW,SAAAC,CAAQ,CAAI,IACX/C,CAAAA,CAAQ,CAAG+C,CAAQ,CAAC/C,QADT,CAEXX,CAAM,CAAG0D,CAAQ,CAAC1D,MAFP,CAGfsD,CAAM,CAAC9F,CAAa,CAACS,YAAf,CAA6B0C,CAA7B,CAAN,CACA2C,CAAM,CAAC9F,CAAa,CAACY,UAAf,CAA2B4B,CAA3B,CACT,CANL,CAOH,CAxHE,oBAyHFxB,CAAW,CAACZ,YAzHV,YAyHoDmE,CAzHpD,CAyH6D,IAAnCuB,CAAAA,CAAmC,GAAnCA,MAAmC,CAA3BnE,CAA2B,GAA3BA,KAA2B,CAApBoE,CAAoB,GAApBA,QAAoB,CAC5D3G,CAAS,CAACqI,YAAV,CAAuBlD,CAAO,CAACpB,QAA/B,CAAyCoB,CAAO,CAACmD,MAAjD,EACKzB,IADL,CACW,SAAAC,CAAQ,CAAK,IACZ/C,CAAAA,CAAQ,CAAG+C,CAAQ,CAAC/C,QADR,CAEZwE,CAAa,CAAGzB,CAAQ,CAACyB,aAFb,CAGZnF,CAAM,CAAG0D,CAAQ,CAAC1D,MAHN,CAIhBsD,CAAM,CAAC9F,CAAa,CAACG,QAAf,CAAyBwH,CAAzB,CAAN,CACA7B,CAAM,CAAC9F,CAAa,CAACI,YAAf,CAA6B+C,CAA7B,CAAN,CACA2C,CAAM,CAAC9F,CAAa,CAACY,UAAf,CAA2B4B,CAA3B,CAAN,CACAuD,CAAQ,CAAC/E,CAAW,CAACG,wBAAb,CAAuCwG,CAAvC,CACX,CATL,CAUH,CApIE,oBAqIF3G,CAAW,CAACQ,WArIV,YAqI2CyC,CArI3C,CAqIiD,IAAzB8B,CAAAA,CAAyB,GAAzBA,QAAyB,CAAfD,CAAe,GAAfA,MAAe,CAChD1G,CAAS,CAACwI,WAAV,CAAsB3D,CAAtB,EACKgC,IADL,CACW,SAAAC,CAAQ,CAAI,IAEXjC,CAAAA,CAAI,CAAGiC,CAAQ,CAACjC,IAFL,CAGXzB,CAAM,CAAG0D,CAAQ,CAAC1D,MAHP,CAIfsD,CAAM,CAAC9F,CAAa,CAACa,QAAf,CAAyBoD,CAAzB,CAAN,CACA6B,CAAM,CAAC9F,CAAa,CAACY,UAAf,CAA2B4B,CAA3B,CAAN,CACAsD,CAAM,CAAC9F,CAAa,CAACQ,UAAf,CAA2B0F,CAAQ,CAACqB,YAApC,CAGT,CAVL,CAWH,CAjJE,oBAkJFvG,CAAW,CAACC,WAlJV,YAkJ4C,IAAnB8E,CAAAA,CAAmB,GAAnBA,QAAmB,CAATD,CAAS,GAATA,MAAS,CAC3C1G,CAAS,CAACyI,eAAV,CAA0B3I,CAAO,CAAC4I,WAAR,EAA1B,EACK7B,IADL,CACW,SAAAC,CAAQ,CAAI,CACfJ,CAAM,CAAC9F,CAAa,CAACM,SAAf,CAA0B4F,CAA1B,CAAN,CACAH,CAAQ,CAAC/E,CAAW,CAACE,WAAb,CACX,CAJL,CAKH,CAxJE,IAjJC,CA2SRoF,OAAO,CAAE,CACLyB,WAAW,CAAE,qBAACpG,CAAD,CAAW,CACpB,MAAOA,CAAAA,CAAK,CAACa,MAAN,CAAa,CAAb,EAAgBb,CAAK,CAACa,MAAN,CAAa,CAAb,EAAgB,CAAhB,CAAhB,CAAoC,EAC9C,CAHI,CAILwF,gBAAgB,CAAE,0BAACrG,CAAD,CAAQ2E,CAAR,CAAoB,CAClC,MAAOA,CAAAA,CAAO,CAAC2B,YAAR,CAAqBtG,CAAK,CAACS,kBAA3B,CACV,CANI,CAOL8F,SAAS,CAAC,mBAACvG,CAAD,CAAW,CACjB,MAAOA,CAAAA,CAAK,CAACa,MAAN,CAAab,CAAK,CAACa,MAAN,CAAa2F,MAAb,CAAoB,CAAjC,CACV,CATI,CAULC,cAAc,CAAE,wBAACzG,CAAD,CAAW,CACvB,GAAI0G,CAAAA,CAAK,CAAI1G,CAAK,CAACa,MAAN,CAAa6F,KAAb,CAAmB,CAAnB,CAAsB1G,CAAK,CAACa,MAAN,CAAa2F,MAAb,CAAqB,CAA3C,CAAb,CACA,MAAOE,CAAAA,CAAK,CAAEA,CAAF,CAAS,EACxB,CAbI,CAcLC,UAAU,CAAE,oBAAC3G,CAAD,CAAW,CACnB,MAAO6B,CAAAA,MAAM,CAACC,IAAP,CAAY9B,CAAK,CAACU,KAAlB,EAAyB8F,MACnC,CAhBI,CAiBLF,YAAY,CAAE,sBAACtG,CAAD,QAAW,UAACyB,CAAD,CAAQ,CAC7B,MAAQzB,CAAAA,CAAK,CAACW,UAAN,CAAiByC,IAAjB,CAAuB,SAAA5B,CAAQ,QAAIA,CAAAA,CAAQ,CAACC,EAAT,GAAgBA,CAApB,CAA/B,CACX,CAFa,CAjBT,CAoBLmF,WAAW,CAAE,qBAAC5G,CAAD,QAAW,UAACyB,CAAD,CAAQ,CAC5B,MAAQzB,CAAAA,CAAK,CAACnC,QAAN,CAAe4D,CAAf,CACX,CAFY,CApBR,CAuBLoF,gBAAgB,CAAE,0BAAC7G,CAAD,CAAQ2E,CAAR,CAAoB,CAClC,MAAQ/G,CAAAA,CAAY,CAAC+G,CAAO,CAACmC,UAAT,CAAqB9G,CAAK,CAACM,sBAA3B,CACvB,CAzBI,CA0BLwG,UAAU,CAAE,oBAAC9G,CAAD,CAAW,CACnB,MAAO6B,CAAAA,MAAM,CAACsB,MAAP,CAAcnD,CAAK,CAACnC,QAApB,CACV,CA5BI,CA6BLkJ,aAAa,CAAE,uBAAC/G,CAAD,CAAW,CACtB,MAAO6B,CAAAA,MAAM,CAACC,IAAP,CAAY9B,CAAK,CAACnC,QAAlB,EAA4B2I,MACtC,CA/BI,CAgCLQ,iBAAiB,CAAE,2BAAChH,CAAD,CAAQ2E,CAAR,CAAoB,CACnC,MAAOA,CAAAA,CAAO,CAACmC,UAAR,CAAmB1E,MAAnB,CAA0B,SAAAH,CAAO,QAAIA,CAAAA,CAAO,CAACgF,OAAZ,CAAjC,EAAsDT,MAChE,CAlCI,CAmCLU,OAAO,CAAE,iBAAClH,CAAD,CAAW,CAChB,MAAO6B,CAAAA,MAAM,CAACsB,MAAP,CAAcnD,CAAK,CAACU,KAApB,CACV,CArCI,CAsCLyG,eAAe,CAAE,yBAACnH,CAAD,CAAQ2E,CAAR,CAAoB,CACjC,GAAIyC,CAAAA,CAAW,CAAGzC,CAAO,CAAC0C,cAA1B,CACA,GAAI,CAAC1C,CAAO,CAAC2C,wBAAR,CAAiCF,CAAW,CAAC,CAAD,CAA5C,IAAL,CAA6D,CACzD,QACH,CACD,IAAKG,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAGH,CAAW,CAACZ,MAA5B,CAAoCe,CAAC,EAArC,CAAwC,CACpC,GAAI,CAAC5C,CAAO,CAAC2C,wBAAR,CAAiCF,CAAW,CAACG,CAAD,CAA5C,CAAL,CAAuD,CACnD,QACH,CACJ,CACD,QACH,CAjDI,CAkDLD,wBAAwB,CAAE,kCAACtH,CAAD,CAAQ2E,CAAR,QAAoB,UAACtD,CAAD,CAAkC,IAArBmG,CAAAA,CAAqB,2DACxEC,CAAO,CAAG9C,CAAO,CAAC+C,eAAR,CAAwBrG,CAAxB,CAAoCmG,CAApC,CAD8D,CAE5EhE,OAAO,CAACC,GAAR,CAAYgE,CAAZ,EACA,GAAIE,CAAAA,CAAK,CAAGF,CAAO,CAACG,MAAR,CAAe,SAACC,CAAD,CAAIC,CAAJ,QAAUD,CAAAA,CAAC,CAAGC,CAAd,CAAf,CAAgC,CAAhC,CAAZ,CACAtE,OAAO,CAACC,GAAR,CAAYkE,CAAZ,EACA,MAAgB,EAAT,EAAAA,CAAK,EAAkB,GAAT,EAAAA,CACxB,CANyB,CAlDrB,CAyDLD,eAAe,CAAE,yBAAC1H,CAAD,QAAW,UAACqB,CAAD,CAAkC,IAArBmG,CAAAA,CAAqB,2DACtDC,CAAO,CAAG,CAD4C,CAE1D,GAAGD,CAAH,CAAY,CACRC,CAAO,CAAG5F,MAAM,CAACsB,MAAP,CAAcnD,CAAK,CAACU,KAApB,EAA2Ba,GAA3B,CAA+B,SAAAe,CAAI,CAAI,CAC7C,GAAGA,CAAI,CAACyF,UAAL,EAAmB1G,CAAnB,EAAoD,IAAnB,EAAAiB,CAAI,CAACyF,UAAzC,CAA4D,CACxD,OAAczF,CAAI,CAAC0F,eACtB,CAFD,IAEO,OAAO,EACjB,CAJS,CAKb,CAND,IAMK,CACDP,CAAO,CAAG5F,MAAM,CAACsB,MAAP,CAAcnD,CAAK,CAACU,KAApB,EAA2Ba,GAA3B,CAA+B,SAAAe,CAAI,CAAI,CAC7C,GAAGA,CAAI,CAACyF,UAAL,EAAmB1G,CAAtB,CAAiC,CAC7B,OAAciB,CAAI,CAAC0F,eACtB,CAFD,IAEO,OAAO,EACjB,CAJS,CAKb,CACD,MAAOP,CAAAA,CACV,CAhBgB,CAzDZ,CA0ELQ,UAAU,CAAE,oBAACjI,CAAD,CAAoB,CAC5B,GAAIyH,CAAAA,CAAO,CAAG5F,MAAM,CAACsB,MAAP,CAAcnD,CAAK,CAACU,KAApB,EAA2Ba,GAA3B,CAA+B,SAAAe,CAAI,CAAI,CACjD,OAAcA,CAAI,CAAC0F,eACtB,CAFa,CAAd,CAGA,MAAOP,CAAAA,CACV,CA/EI,CAgFLJ,cAAc,CAAE,wBAACrH,CAAD,CAAW,CACvB,GAAIkI,CAAAA,CAAM,CAAGrG,MAAM,CAACsB,MAAP,CAAcnD,CAAK,CAACW,UAApB,EAAgCY,GAAhC,CAAoC,SAAAC,CAAQ,CAAI,CACzD,MAAOA,CAAAA,CAAQ,CAACC,EACnB,CAFY,CAAb,CAGA,MAAOyG,CAAAA,CACV,CArFI,CA8FLzC,YAAY,CAAE,sBAACzF,CAAD,CAAQ2E,CAAR,CAAoB,CAC9B,GAAI4B,CAAAA,CAAS,CAAG5B,CAAO,CAAC4B,SAAxB,CACA,GAAG,CAACA,CAAJ,CAAe,CACX,MAAO1E,CAAAA,MAAM,CAACC,IAAP,CAAY9B,CAAK,CAACU,KAAlB,CACV,CACD,MAAO6F,CAAAA,CAAS,CAAChF,GAAV,CAAc,SAAA4G,CAAO,QAAIA,CAAAA,CAAO,CAACC,MAAR,CAAe3G,EAAnB,CAArB,CACV,CApGI,CAqGL4G,gBAAgB,CAAE,0BAACrI,CAAD,CAAQ2E,CAAR,CAAoB,CAClC,GAAI4B,CAAAA,CAAS,CAAG5B,CAAO,CAAC4B,SAAxB,CACA,GAAG,CAACA,CAAJ,CAAe,CACX,MAAO1E,CAAAA,MAAM,CAACC,IAAP,CAAY9B,CAAK,CAACU,KAAlB,CACV,CACD,MAAO6F,CAAAA,CAAS,CAAChF,GAAV,CAAc,SAAA4G,CAAO,CAAI,CAC5B,GAA+B,IAA5B,GAAAA,CAAO,CAACC,MAAR,CAAeE,QAAf,EAAgE,EAA5B,GAAAH,CAAO,CAACC,MAAR,CAAeE,QAAtD,CAAsE,CAClE,MAAO,SAAW3D,CAAO,CAAC2B,YAAR,CAAqB6B,CAAO,CAACC,MAAR,CAAeG,YAApC,EAAkDxH,QACvE,CAFD,IAEM,OAAOoH,CAAAA,CAAO,CAACC,MAAR,CAAeE,QAC/B,CAJM,CAKV,CA/GI,CAgHLE,YAAY,CAAE,sBAACxI,CAAD,CAAQ2E,CAAR,CAAoB,CAC9B,MAAOA,CAAAA,CAAO,CAACc,YAAR,CAAqBd,CAAO,CAACc,YAAR,CAAqBe,MAArB,CAA8B,CAAnD,CACV,CAlHI,CAmHLxB,kBAAkB,CAAE,4BAAChF,CAAD,CAAQ2E,CAAR,QAAoB,UAAC8D,CAAD,CAAgB,CACpD,GAAIC,CAAAA,CAAQ,CAAI/D,CAAO,CAACuC,OAAR,CAAgB9E,MAAhB,CAAuB,SAAAE,CAAI,CAAI,CACvC,MAAOA,CAAAA,CAAI,CAACyF,UAAL,GAAoBU,CAApB,EACHnG,CAAI,CAACiG,YAAL,GAAsBE,CAC7B,CAHW,CAAhB,CAKA,GAAGE,KAAK,CAACC,OAAN,CAAcF,CAAd,CAAH,CAA4B,CACxB,MAAOA,CAAAA,CACV,CAFD,IAEO,CACH,MAAO,EACV,CACJ,CAXmB,CAnHf,CA+HLxD,uBAAuB,CAAE,iCAAClF,CAAD,QAAW,UAACyI,CAAD,CAAgB,CAChD,GAAIC,CAAAA,CAAQ,CAAI1I,CAAK,CAACW,UAAN,CAAiByB,MAAjB,CAAwB,SAAAZ,CAAQ,QAAIA,CAAAA,CAAQ,CAACqH,MAAT,GAAoBJ,CAAxB,CAAhC,CAAhB,CACA,MAAOC,CAAAA,CAAQ,CAAEA,CAAF,CAAY,EAC9B,CAHwB,CA/HpB,CAmILI,iBAAiB,CAAE,2BAAC9I,CAAD,CAAQ2E,CAAR,QAAoB,UAAC8D,CAAD,CAAgB,IAE/CzD,CAAAA,CAAkB,CAAGL,CAAO,CAACK,kBAAR,CAA2ByD,CAA3B,CAF0B,CAG/CvD,CAAuB,CAAGP,CAAO,CAACO,uBAAR,CAAgCuD,CAAhC,CAHqB,CAInD,MAAOzD,CAAAA,CAAkB,CAACwB,MAAnB,CAA4BtB,CAAuB,CAACsB,MAC9D,CALkB,CAnId,CAyILuC,aAAa,CAAE,uBAAC/I,CAAD,CAAW,CACtB,GAA8B,CAA3B,EAAAA,CAAK,CAACW,UAAN,CAAiB6F,MAApB,CAAiC,CAC7B,MAAO,EACV,CACD,GAAIwC,CAAAA,CAAM,CAAIhJ,CAAK,CAACW,UAAN,CAAiBY,GAAjB,CAAqB,SAAAC,CAAQ,CAAI,CAAE,MAAOA,CAAAA,CAAQ,CAACyH,KAAQ,CAA3D,CAAd,CACA,MAAOC,CAAAA,IAAI,CAACC,GAAL,CAASC,KAAT,CAAeF,IAAf,CAAoBF,CAApB,CAEV,CAhJI,CAiJLK,oBAAoB,CAAE,8BAACrJ,CAAD,QAAW,UAACiJ,CAAD,CAAW,CACxC,MAAOjJ,CAAAA,CAAK,CAACW,UAAN,CAAiByC,IAAjB,CAAsB,SAAA5B,CAAQ,QAAEA,CAAAA,CAAQ,CAACyH,KAAT,GAAmBA,CAArB,CAA9B,CACV,CAFqB,CAjJjB,CAoJLK,SAAS,CAAE,mBAACtJ,CAAD,CAAW,CAClB,MAAO6B,CAAAA,MAAM,CAACsB,MAAP,CAAcnD,CAAK,CAACY,MAApB,CACV,CAtJI,CAuJL2I,cAAc,CAAE,wBAACvJ,CAAD,CAAQ2E,CAAR,QAAoB,UAAClD,CAAD,CAAQ,CACxC,MAAOkD,CAAAA,CAAO,CAAC2E,SAAR,CAAkBlH,MAAlB,CAAyB,SAAAI,CAAK,QAAIA,CAAAA,CAAK,CAACa,MAAN,GAAiB5B,CAArB,CAA9B,CACV,CAFe,CAvJX,CA0JL+H,aAAa,CAAE,uBAACxJ,CAAD,CAAQ2E,CAAR,CAAoB,CAC/B,MAAOA,CAAAA,CAAO,CAAC2E,SAAR,CAAkBlH,MAAlB,CAAyB,SAAAI,CAAK,QAAIA,CAAAA,CAAK,CAACc,UAAN,EAAsC,EAAlB,CAAAd,CAAK,CAAC+C,WAA9B,CAA9B,CACV,CA5JI,CA6JLkE,gBAAgB,CAAE,0BAACzJ,CAAD,CAAQ2E,CAAR,CAAoB,CAClC,MAAOA,CAAAA,CAAO,CAACc,YAAR,CAAqBlE,GAArB,CAAyB,SAAAE,CAAE,CAAI,CAClC,MAAOkD,CAAAA,CAAO,CAAC4E,cAAR,CAAuB9H,CAAvB,EAA2BW,MAA3B,CAAkC,SAAAI,CAAK,QAAIA,CAAAA,CAAK,CAACc,UAAN,EAAsC,EAAlB,CAAAd,CAAK,CAAC+C,WAA9B,CAAvC,EAAsFiB,MAChG,CAFM,CAGV,CAjKI,CAkKLkD,aAAa,CAAE,uBAAC1J,CAAD,CAAQ2E,CAAR,CAAoB,CAC/B,MAAOA,CAAAA,CAAO,CAAC2E,SAAR,CAAkBlH,MAAlB,CAAyB,SAAAI,CAAK,QAAIA,CAAAA,CAAK,CAACc,UAAN,CAAqC,EAAlB,CAAAd,CAAK,CAAC+C,WAAzB,EAAgE,IAApB,EAAA/C,CAAK,CAACc,UAAtD,CAA9B,CACV,CApKI,CAqKLqG,gBAAgB,CAAE,0BAAC3J,CAAD,CAAQ2E,CAAR,CAAoB,CAClC,MAAOA,CAAAA,CAAO,CAACc,YAAR,CAAqBlE,GAArB,CAAyB,SAAAE,CAAE,CAAI,CAClC,MAAOkD,CAAAA,CAAO,CAAC4E,cAAR,CAAuB9H,CAAvB,EAA2BW,MAA3B,CAAkC,SAAAI,CAAK,CAAI,CAC9C,GAAGA,CAAK,CAACc,UAAN,CAAqC,EAAlB,CAAAd,CAAK,CAAC+C,WAAzB,EAAgE,IAApB,EAAA/C,CAAK,CAACc,UAArD,CAAwE,CACpE,QACH,CAFD,IAEM,SACT,CAJM,EAIJkD,MACN,CANM,CAOV,CA7KI,CA8KLoD,UAAU,CAAE,oBAAC5J,CAAD,CAAQ2E,CAAR,CAAoB,CAC5B,MAAOA,CAAAA,CAAO,CAAC2E,SAAR,CAAkBlH,MAAlB,CAAyB,SAAAI,CAAK,QAAyB,KAArB,GAAAA,CAAK,CAACc,UAAN,EAA6Bd,CAAK,CAACc,UAAN,SAAjC,CAA9B,CACV,CAhLI,CAiLLuG,aAAa,CAAE,uBAAC7J,CAAD,CAAQ2E,CAAR,CAAoB,CAC/B,MAAOA,CAAAA,CAAO,CAACc,YAAR,CAAqBlE,GAArB,CAAyB,SAAAE,CAAE,CAAI,CAClC,MAAOkD,CAAAA,CAAO,CAAC4E,cAAR,CAAuB9H,CAAvB,EAA2BW,MAA3B,CAAkC,SAAAI,CAAK,QAAyB,KAArB,GAAAA,CAAK,CAACc,UAAN,EAA6Bd,CAAK,CAACc,UAAN,SAAjC,CAAvC,EAAwGkD,MAClH,CAFM,CAGV,CArLI,CAsLLsD,kBAAkB,CAAE,4BAAC9J,CAAD,CAAQ2E,CAAR,CAAoB,CACpC,MAAOA,CAAAA,CAAO,CAAC6E,aAAR,CAAsBhD,MAChC,CAxLI,CAyLLuD,kBAAkB,CAAE,4BAAC/J,CAAD,CAAQ2E,CAAR,CAAoB,CACpC,MAAOA,CAAAA,CAAO,CAAC+E,aAAR,CAAsBlD,MAChC,CA3LI,CA4LLwD,eAAe,CAAE,yBAAChK,CAAD,CAAQ2E,CAAR,CAAoB,CACjC,MAAOA,CAAAA,CAAO,CAACiF,UAAR,CAAmBpD,MAC7B,CA9LI,CA+LLyD,cAAc,CAAE,wBAACjK,CAAD,CAAQ2E,CAAR,CAAoB,CAChC,MAAOA,CAAAA,CAAO,CAAC2E,SAAR,CAAkBlH,MAAlB,CAAyB,SAAAI,CAAK,QAAIA,CAAAA,CAAK,CAACa,MAAN,GAAiBsB,CAAO,CAAC6D,YAA7B,CAA9B,CACV,CAjMI,CAkML0B,oBAAoB,CAAE,8BAAClK,CAAD,CAAQ2E,CAAR,CAAoB,CACtC,MAAOA,CAAAA,CAAO,CAACsF,cAAR,CAAuB7H,MAAvB,CAA8B,SAAAI,CAAK,QAAIA,CAAAA,CAAK,CAACc,UAAN,EAAsC,EAAlB,CAAAd,CAAK,CAAC+C,WAA9B,CAAnC,CACV,CApMI,CAqML4E,cAAc,CAAE,wBAACnK,CAAD,CAAW,IACnBoK,CAAAA,CAAK,CAAG,EADW,CAEnBC,CAAM,CAAGrK,CAAK,CAACgB,eAAN,CAAsBhB,CAAK,CAACiB,iBAFlB,CAGnBqJ,CAAI,CAAG,CAHY,CAInBC,CAAK,CAAG,EAJW,CAKvB,IAAIhD,CAAC,CAAG,CAAR,CAAWA,CAAC,CAAG8C,CAAM,CAAG,CAAxB,CAA2B9C,CAAC,EAA5B,CAA+B,CAC3BgD,CAAK,CAAGD,CAAI,CAAG,KAAf,CACAA,CAAI,EAAItK,CAAK,CAACiB,iBAAd,CACAsJ,CAAK,EAAID,CAAI,CAAG,EAAhB,CACAF,CAAK,CAAC7H,IAAN,CAAWgI,CAAX,CACH,CACDA,CAAK,CAAGD,CAAI,CAAG,KAAP,CAAetK,CAAK,CAACgB,eAA7B,CACAoJ,CAAK,CAAC7H,IAAN,CAAWgI,CAAX,EACA,MAAOH,CAAAA,CACV,CAnNI,CAoNLI,gBAAgB,CAAE,0BAACxK,CAAD,CAAQ2E,CAAR,CAAoB,IAC9B8F,CAAAA,CAAO,CAAG,CADoB,CAE9BC,CAAU,CAAG1K,CAAK,CAACiB,iBAFW,CAG9B0J,CAAI,CAAG,EAHuB,CAI9BN,CAAM,CAAGrK,CAAK,CAACgB,eAAN,CAAsBhB,CAAK,CAACiB,iBAJP,CAK9B2J,CAAc,CAAGjG,CAAO,CAACsF,cAAR,CAAuB1I,GAAvB,CAA2B,SAAAiB,CAAK,QAAKA,CAAAA,CAAK,CAACc,UAAN,CAAiBd,CAAK,CAAC+C,WAAxB,CAAqCvF,CAAK,CAACgB,eAA/C,CAAhC,CALa,CAMlC,IAAIuG,CAAC,CAAG,CAAR,CAAWA,CAAC,CAAG8C,CAAM,CAAG,CAAxB,CAA2B9C,CAAC,EAA5B,CAA+B,CAC3BoD,CAAI,CAACpI,IAAL,CAAUqI,CAAc,CAACxI,MAAf,CAAsB,SAAAI,CAAK,QAAIA,CAAAA,CAAK,EAAIiI,CAAT,EAAoBjI,CAAK,CAAGkI,CAAhC,CAA3B,EAAuElE,MAAjF,EACAiE,CAAO,EAAIzK,CAAK,CAACiB,iBAAjB,CACAyJ,CAAU,EAAI1K,CAAK,CAACiB,iBACvB,CACD0J,CAAI,CAACpI,IAAL,CAAUqI,CAAc,CAACxI,MAAf,CAAsB,SAAAI,CAAK,QAAIA,CAAAA,CAAK,EAAIiI,CAAb,CAA3B,EAAiDjE,MAA3D,EACA,MAAOmE,CAAAA,CACV,CAjOI,CA3SD,CArDkC,CAqkB9C,MAAO,CACH5K,KAAK,CAAEA,CADJ,CAEHmB,SAAS,CAAE7C,CAFR,CAGH6F,OAAO,CAAE7E,CAHN,CAKV,CAhlBK,CAAN","sourcesContent":["define([\n    'local_customgrader/grader-utils',\n    'local_customgrader/grader-enums',\n    'local_customgrader/grader-service',\n    'local_customgrader/vendor-vue',\n    'local_customgrader/vendor-lodash'\n], function (g_utils, g_enums, g_service, Vue, _) {\n\n    const columnFinalGrade = {text: \"Nota final\"};\n    const columnStudentCode= {text: \"Código estudiante\"};\n    const columnStudentNames= {text: \"\", hide: true};\n\n\n    /**\n     * Return an array of students sorted\n     * @param sortStudentMethodType\n     * @param students {Array<Student>}\n     * @returns {function(*, *): boolean}\n     */\n    var sortStudents = function (students, sortStudentMethodType) {\n        switch (sortStudentMethodType.name) {\n            case g_enums.sortStudentMethods.FIRST_NAME:\n                return _.orderBy(students, ['firstname'], sortStudentMethodType.order);\n            case g_enums.sortStudentMethods.LAST_NAME:\n                return _.orderBy(students, ['lastname'], sortStudentMethodType.order);\n        }\n    };\n    var mutationsType = {\n        ADD_GRADE: 'addGrade',\n        DELETE_CATEGORY: 'deleteCategory',\n        ADD_ITEM: 'addItem',\n        ADD_CATEGORY: 'addCategory',\n        ADD_GRADE_TO_STUDENT: 'addGradeToStudent',\n        SET_STATE: 'setAllState',\n        SET_GRADE: 'setGrade',\n        SET_GRADES: 'setGrades',\n        SET_CATEGORY: 'setCategory',\n        SET_STUDENT_SORT_METHOD: 'setStudentSortMethod',\n        SET_SELECTED_CATEGORY_ID: 'setSelectedCategoryId',\n        SET_LEVELS: 'setLevels',\n        SET_ITEM: 'setItem',\n        DELETE_ITEM: 'deleteItem',\n        DELETE_GRADE: 'deleteItemGrades',\n    };\n    var actionsType = {\n        FETCH_STATE: 'fetchAllState',\n        FILL_GRADES: 'fillGrades',\n        FILL_GRADES_FOR_NEW_ITEM: 'fillGradesForNewItem',\n        UPDATE_GRADE: 'updateGrade',\n        DELETE_ITEM: 'deleteItem',\n        DELETE_CATEGORY_CHILDS: 'deleteCategoryChilds',\n        UPDATE_CATEGORY: 'setCategory',\n        ADD_ITEM: 'addItem',\n        ADD_PARTIAL_EXAM: 'addPartialExam',\n        DELETE_CATEGORY: 'deleteCategory',\n        ADD_CATEGORY: 'addCategory',\n        UPDATE_ITEM: 'setItem',\n        DELETE_ITEM_GRADES: 'deleteItemGrades'\n    };\n    var store = {\n\n        state : {\n            decimalPlaces: 2,\n            additionalColumnsAtFirst: [\n                columnStudentCode,\n                columnStudentNames\n            ],\n            additionalColumnsAtEnd: [\n                columnFinalGrade\n            ],\n            sortStudentsMethodType: {\n                name: g_enums.sortStudentMethods.LAST_NAME,\n                order: g_enums.sortDirection.ASC\n            },\n            students /*: Dict<studentId: Student> */: {},\n            selectedCategoryId: null,\n            items /*: Dict<itemId:Item> */: {},\n            categories /*: Array<Category> */: [],\n            grades /*: Dict<gradeId:Grade> */: {},\n            levels: [], // First level is course level, last level is item level, between\n            //these two levels are category levels\n            course: {fullname: 'Nombre completo de el curso'},\n            maxDisplayGrade: 5, //Used as a scale for the graphs\n            gradeDisplayRange: 0.5, //Used to divide the scale in the line graph\n        },\n\n        mutations: {\n            [mutationsType.DELETE_ITEM] (state, itemId) {\n                Vue.delete(state.items, itemId);\n            },\n            [mutationsType.DELETE_CATEGORY] (state, categoryId) {\n                const categoryIndex = state.categories\n                    .map(category => category.id)\n                    .indexOf(categoryId);\n                Vue.delete(state.categories, categoryIndex);\n            },\n            [mutationsType.SET_STUDENT_SORT_METHOD](state, sortMethodType) {\n                state.sortStudentsMethodType = sortMethodType;\n            },\n            [mutationsType.DELETE_GRADE] (state, gradeId) {\n                Object.keys(state.students).forEach( studentId => {\n                        const student = state.students[studentId];\n                        Vue.set(\n                            state.students[studentId],\n                            'gradeIds',\n                            student.gradeIds.filter(_gradeId => _gradeId !== gradeId)\n                        )\n                    }\n                );\n                Vue.delete(state.grades, gradeId);\n            },\n            [mutationsType.ADD_ITEM](state, item) {\n                Vue.set(state.items, item.id, item);\n            },\n            [mutationsType.ADD_CATEGORY](state, category) {\n                state.categories.push(category);\n            },\n            [mutationsType.ADD_GRADE] (state, grade) {\n                grade.id = g_utils.ID();\n                let student = state.students[grade.userid];\n                let studentGradeIds = student.gradeIds? student.gradeIds: [];\n                Vue.set(state.grades, grade.id, grade);\n                Vue.set(state.students[student.id], 'gradeIds', [...studentGradeIds, grade.id]);\n            },\n            [mutationsType.ADD_GRADE_TO_STUDENT] (state, payload) {\n                let grade = payload.grade;\n                let studentId = payload.studentId;\n                let student = state.students[studentId];\n                let studentGradeIds = student.gradeIds? student.gradeIds: [];\n                Vue.set(state.students[studentId], 'gradeIds', [...studentGradeIds, grade.id]);\n            },\n            [mutationsType.SET_ITEM] (state, newItem) {\n                Vue.set(state.items, newItem.id, newItem);\n            },\n            [mutationsType.SET_LEVELS] (state, levels) {\n                state.levels = levels;\n            },\n            [mutationsType.SET_CATEGORY] (state, newCategory) {\n                let category_index = state.categories.map(category => category.id).indexOf(newCategory.id);\n                Vue.set(state.categories, category_index, newCategory);\n            },\n            [mutationsType.SET_GRADES] (state, newGrades) {\n                newGrades.forEach(newGrade => {\n                    const oldGrade = Object.values(state.grades).find(grade =>\n                        grade.itemid === newGrade.itemid &&\n                        grade.userid === newGrade.userid);\n\n                    newGrade.finalgrade = g_utils.removeInsignificantTrailZeros(newGrade.finalgrade);\n\n                    if(oldGrade.finalgrade != newGrade.finalgrade){\n                        console.log(\"nel prro\")\n\n\n                        if(!state.grades[newGrade.id]) {\n                            state.grades[newGrade.id] =  newGrade;\n                            const studentGradeIds = state.students[oldGrade.userid].gradeIds;\n                            const newGradeIds =\n                                [...studentGradeIds.filter(gradeId => gradeId !== oldGrade.id), newGrade.id];\n                            state.students[newGrade.userid] = {...state.students[newGrade.userid], gradeIds: newGradeIds};\n                            Vue.delete(state.grades, oldGrade.id);\n                        }\n                        Vue.set(state.grades, newGrade.id, newGrade);\n                    }\n                })  ;\n            },\n            [mutationsType.SET_GRADE] (state, payload) {\n                let oldGrade = payload.old;\n                let newGrade = payload.new;\n                newGrade.finalgrade = g_utils.removeInsignificantTrailZeros(newGrade.finalgrade);\n                state.grades[newGrade.id] = newGrade;\n                if( oldGrade ) {\n                    if (oldGrade.id !== newGrade.id) {\n                        const studentGradeIds = state.students[oldGrade.userid].gradeIds;\n                        const newGradeIds =\n                            [...studentGradeIds.filter(gradeId => gradeId !== oldGrade.id), newGrade.id];\n                        state.students[oldGrade.userid] = {...state.students[oldGrade.userid], gradeIds: newGradeIds};\n                        Vue.delete(state.grades, oldGrade.id);\n                    }\n                }\n            },\n            [mutationsType.SET_SELECTED_CATEGORY_ID] (state, newSelectedId) {\n                state.selectedCategoryId = newSelectedId;\n            },\n            [mutationsType.SET_STATE] (state, newState) {\n                state.levels = newState.levels;\n                let studentsDict = {};\n                newState.students.forEach(student => {\n                    studentsDict[student.id] = student;\n                });\n                state.students = studentsDict;\n                let itemsDict = {};\n                newState.items.forEach(item => {\n                    itemsDict[item.id] = item;\n                });\n                state.items = itemsDict;\n                state.categories = newState.categories;\n                let gradesDict = {};\n                newState.grades.forEach(grade => {\n                    gradesDict[grade.id] = {...grade, finalgrade: g_utils.removeInsignificantTrailZeros(grade.finalgrade)};\n                });\n                state.grades = gradesDict;\n                state.course = newState.course;\n            }\n        },\n        actions: {\n            [actionsType.DELETE_ITEM] ({commit, dispatch, state}, itemId) {\n                g_service.delete_item(itemId)\n                    .then( response => {\n                        commit(mutationsType.SET_LEVELS, response.levels);\n                        commit(mutationsType.DELETE_ITEM, itemId);\n                        dispatch(actionsType.DELETE_ITEM_GRADES, itemId);\n                    });\n            },\n            [actionsType.ADD_ITEM] ({commit, dispatch}, item) {\n                g_service.add_item(item)\n                    .then(response => {\n                        commit(mutationsType.ADD_ITEM, response.item);\n                        commit(mutationsType.SET_LEVELS, response.levels);\n                        dispatch(actionsType.FILL_GRADES_FOR_NEW_ITEM, response.item);\n                    });\n            },\n            [actionsType.DELETE_ITEM_GRADES]({commit, state}, itemId) {\n                let gradeIds = Object.keys(state.grades);\n                let gradeIdsToDelete = [];\n                gradeIds.forEach(gradeId => {\n                    if(state.grades[gradeId].itemid === itemId) {\n                        gradeIdsToDelete.push(gradeId);\n                    }\n                });\n                gradeIdsToDelete.forEach(gradeId => {\n                    commit(mutationsType.DELETE_GRADE, gradeId);\n                });\n            },\n            [actionsType.ADD_PARTIAL_EXAM] ({commit, getters}, partialExam) {\n                g_service.add_partial_exam(partialExam)\n                    .then(response => {\n                        commit(mutationsType.SET_LEVELS, response.levels);\n                        commit(mutationsType.ADD_CATEGORY, response.category);\n                        commit(mutationsType.ADD_ITEM, response.partial_item);\n                        commit(mutationsType.ADD_ITEM, response.optional_item);\n                    });\n            },\n            [actionsType.DELETE_CATEGORY_CHILDS] ({commit, getters, dispatch}, categoryId) {\n                const childItems = getters.categoryChildItems(categoryId);\n                const childCategories = getters.categoryChildCategories(categoryId);\n                childItems.forEach(item => {\n                    commit(mutationsType.DELETE_ITEM, item.id);\n                    dispatch(actionsType.DELETE_ITEM_GRADES, item.id);\n                });\n                childCategories.forEach(category => {\n                    commit(mutationsType.DELETE_CATEGORY, category.id);\n                });\n\n            },\n            [actionsType.DELETE_CATEGORY] ({commit, getters, dispatch}, categoryId) {\n                g_service.delete_category(categoryId)\n                    .then(response => {\n                        commit(mutationsType.SET_LEVELS, response.levels);\n                        dispatch(actionsType.DELETE_CATEGORY_CHILDS, categoryId);\n                        commit(mutationsType.DELETE_CATEGORY, categoryId);\n\n                    })\n            },\n            [actionsType.FILL_GRADES_FOR_NEW_ITEM] ({commit, state, getters}, item) {\n                let studentIds = Object.keys(state.students);\n                studentIds.forEach(studentId => {\n                    let grade = {\n                        userid: studentId,\n                        itemid: item.id,\n                        finalgrade: null,\n                        rawgrademin: item.grademin,\n                        rawgrademax: item.grademax\n                    };\n                    commit(mutationsType.ADD_GRADE, grade);\n                });\n            },\n            /**\n             * When the grades are retrieved by the backend, only the grades graded are returned,\n             * items without grades are no returned, in the interface we need all grades for\n             * each student in each item, if the item is not graded, a fake grade is created and added\n             * in `grades` and `studentGradeIds`\n             * @param commit\n             * @param state\n             * @param getters\n             */\n            [actionsType.FILL_GRADES] ({ commit, state, getters }) {\n                let studentIds = Object.keys(state.students);\n                let grades = Object.values(state.grades);\n                studentIds.forEach(studentId => {\n                    for(var itemId of getters.itemOrderIds /* The grades are printed in this order*/) {\n                        let item = state.items[itemId];\n                        let gradeResult = grades.find(grade => grade.userid === studentId && grade.itemid === item.id);\n                        if(!gradeResult) {\n                            let grade = {\n                                userid: studentId,\n                                itemid: item.id,\n                                finalgrade: null,\n                                rawgrademin: item.grademin,\n                                rawgrademax: item.grademax\n                            };\n                            commit(mutationsType.ADD_GRADE, grade);\n                        } else {\n                            commit(mutationsType.ADD_GRADE_TO_STUDENT, {studentId: studentId, grade: gradeResult} );\n                        }\n                    }\n\n                }) ;\n            },\n            [actionsType.UPDATE_GRADE] ({commit, state}, grade) {\n                g_service.update_grade(grade, state.course.id)\n                    .then( response => {\n                        console.log(response);\n                        //commit(mutationsType.SET_GRADE, {old: grade, new: response.grade});\n                        commit(mutationsType.SET_GRADES, response.other_grades);\n                    });\n            },\n            [actionsType.UPDATE_CATEGORY]({dispatch, commit}, category) {\n                g_service.update_category(category)\n                    .then( response => {\n                        let category = response.category;\n                        let levels = response.levels;\n                        commit(mutationsType.SET_CATEGORY, category);\n                        commit(mutationsType.SET_LEVELS, levels);\n                    })\n            },\n            [actionsType.ADD_CATEGORY] ({commit, state, dispatch}, payload) {\n                g_service.add_category(payload.category, payload.weight)\n                    .then( response =>  {\n                        let category = response.category;\n                        let category_item = response.category_item;\n                        let levels = response.levels;\n                        commit(mutationsType.ADD_ITEM, category_item);\n                        commit(mutationsType.ADD_CATEGORY, category);\n                        commit(mutationsType.SET_LEVELS, levels);\n                        dispatch(actionsType.FILL_GRADES_FOR_NEW_ITEM, category_item)\n                    });\n            },\n            [actionsType.UPDATE_ITEM]({dispatch, commit}, item) {\n                g_service.update_item(item)\n                    .then( response => {\n                        //console.log(response.api_response);\n                        let item = response.item;\n                        let levels = response.levels;\n                        commit(mutationsType.SET_ITEM, item);\n                        commit(mutationsType.SET_LEVELS, levels);\n                        commit(mutationsType.SET_GRADES, response.other_grades);\n                        //console.log(item);\n                        //console.log(response.other_grades);\n                    })\n            },\n            [actionsType.FETCH_STATE] ({dispatch, commit}) {\n                g_service.get_grader_data(g_utils.getCourseId())\n                    .then( response => {\n                        commit(mutationsType.SET_STATE, response);\n                        dispatch(actionsType.FILL_GRADES);\n                    })\n            }\n        },\n        getters: {\n            courseLevel: (state) => {\n                return state.levels[0]?state.levels[0][0]: [];\n            },\n            selectedCategory: (state, getters) => {\n                return getters.categoryById(state.selectedCategoryId);\n            },\n            itemLevel:(state) => {\n                return state.levels[state.levels.length-1];\n            },\n            categoryLevels: (state) => {\n                let slice =  state.levels.slice(1, state.levels.length -1 );\n                return slice? slice: [];\n            },\n            itemsCount: (state) => {\n                return Object.keys(state.items).length;\n            },\n            categoryById: (state) => (id) => {\n                return  state.categories.find (category => category.id === id);\n            },\n            studentById: (state) => (id) => {\n                return  state.students[id];\n            },\n            studentSetSorted: (state, getters) => {\n                return  sortStudents(getters.studentSet, state.sortStudentsMethodType);\n            },\n            studentSet: (state) => {\n                return Object.values(state.students);\n            },\n            studentsCount: (state) => {\n                return Object.keys(state.students).length;\n            },\n            studentsAsesCount: (state, getters) => {\n                return getters.studentSet.filter(student => student.is_ases).length;\n            },\n            itemSet: (state) => {\n                return Object.values(state.items);\n            },\n            isWeightHundred: (state, getters) => {\n                let categoryIds = getters.getCategoryIds;\n                if (!getters.categoryWeightsIsHundred(categoryIds[0], true)) {\n                    return false\n                }\n                for (i = 1; i < categoryIds.length; i++){\n                    if (!getters.categoryWeightsIsHundred(categoryIds[i])) {\n                        return false\n                    }\n                }\n                return true;\n            },\n            categoryWeightsIsHundred: (state, getters) => (categoryId, isCourse = false) => {\n                let weights = getters.getWeightsByCat(categoryId, isCourse);\n                console.log(weights);\n                let total = weights.reduce((a, b) => a + b, 0);\n                console.log(total);\n                return total == 0 || total == 100;\n            },\n            getWeightsByCat: (state) => (categoryId, isCourse = false) => {\n                let weights = 0;\n                if(isCourse){\n                    weights = Object.values(state.items).map(item => {\n                        if(item.categoryid == categoryId || item.categoryid == null){\n                            return Number(item.aggregationcoef);\n                        } else return 0;\n                    });\n                }else{\n                    weights = Object.values(state.items).map(item => {\n                        if(item.categoryid == categoryId){\n                            return Number(item.aggregationcoef);\n                        } else return 0;\n                    });\n                }\n                return weights;\n            },\n            getWeights: (state, getters) => {\n                let weights = Object.values(state.items).map(item => {\n                    return Number(item.aggregationcoef);\n                });\n                return weights;\n            },\n            getCategoryIds: (state) => {\n                let catIds = Object.values(state.categories).map(category => {\n                    return category.id;\n                })\n                return catIds;\n            },\n            /**\n             * Use this getter newGradenewGrader item set when you should show\n             * or manage items ordered, in the same order than should\n             * have for the table\n             * @param state\n             * @param getters\n             * @returns {*}\n             */\n            itemOrderIds: (state, getters) => {\n                let itemLevel = getters.itemLevel; //see itemLevel function in getters\n                if(!itemLevel) {\n                    return Object.keys(state.items);\n                }\n                return itemLevel.map(element => element.object.id);\n            },\n            itemOrderedNames: (state, getters) => {\n                let itemLevel = getters.itemLevel; //see itemLevel function in getters\n                if(!itemLevel) {\n                    return Object.keys(state.items);\n                }\n                return itemLevel.map(element => {\n                    if(element.object.itemname === null || element.object.itemname === ''){\n                        return 'Total ' + getters.categoryById(element.object.iteminstance).fullname;\n                    }else return element.object.itemname;\n                });\n            },\n            finalGradeId: (state, getters) => {\n                return getters.itemOrderIds[getters.itemOrderIds.length - 1];\n            },\n            categoryChildItems: (state, getters) => (idCategory) => {\n                let children =  getters.itemSet.filter(item => {\n                        return item.categoryid === idCategory ||\n                            item.iteminstance === idCategory //\n                    }\n                );\n                if(Array.isArray(children)) {\n                    return children;\n                } else {\n                    return [];\n                }\n            },\n            categoryChildCategories: (state) => (idCategory) => {\n                let children =  state.categories.filter(category => category.parent === idCategory);\n                return children? children: [];\n            },\n            categoryChildSize: (state, getters) => (idCategory) => {\n\n                let categoryChildItems = getters.categoryChildItems(idCategory);\n                let categoryChildCategories = getters.categoryChildCategories(idCategory);\n                return categoryChildItems.length + categoryChildCategories.length;\n            },\n            categoryDepth: (state) => {\n                if(state.categories.length <= 0) {\n                    return 0;\n                }\n                var depths =  state.categories.map(category => { return category.depth; });\n                return Math.max.apply(Math,depths);\n\n            },\n            getCategoriesByDepth: (state) => (depth) => {\n                return state.categories.find(category=>category.depth === depth);\n            },\n            gradesSet: (state) => {\n                return Object.values(state.grades);\n            },\n            gradesByItemId: (state, getters) => (id) => {\n                return getters.gradesSet.filter(grade => grade.itemid === id);\n            },\n            passingGrades: (state, getters) => {\n                return getters.gradesSet.filter(grade => grade.finalgrade >= grade.rawgrademax*0.6);\n            },\n            passingGradesSet: (state, getters) => {\n                return getters.itemOrderIds.map(id => {\n                    return getters.gradesByItemId(id).filter(grade => grade.finalgrade >= grade.rawgrademax*0.6).length;\n                });\n            },\n            failingGrades: (state, getters) => {\n                return getters.gradesSet.filter(grade => grade.finalgrade < grade.rawgrademax*0.6 && grade.finalgrade != null);\n            },\n            failingGradesSet: (state, getters) => {\n                return getters.itemOrderIds.map(id => {\n                    return getters.gradesByItemId(id).filter(grade => {\n                        if(grade.finalgrade < grade.rawgrademax*0.6 && grade.finalgrade != null){\n                            return true;\n                        }else return false\n                    }).length;\n                });\n            },\n            nullGrades: (state, getters) => {\n                return getters.gradesSet.filter(grade => grade.finalgrade === null || grade.finalgrade === undefined);\n            },\n            nullGradesSet: (state, getters) => {\n                return getters.itemOrderIds.map(id => {\n                    return getters.gradesByItemId(id).filter(grade => grade.finalgrade === null || grade.finalgrade === undefined).length;\n                });\n            },\n            passingGradesCount: (state, getters) => {\n                return getters.passingGrades.length;\n            },\n            failingGradesCount: (state, getters) => {\n                return getters.failingGrades.length;\n            },\n            nullGradesCount: (state, getters) => {\n                return getters.nullGrades.length;\n            },\n            finalGradesSet: (state, getters) => {\n                return getters.gradesSet.filter(grade => grade.itemid === getters.finalGradeId);\n            },\n            finalPassingGradeSet: (state, getters) => {\n                return getters.finalGradesSet.filter(grade => grade.finalgrade >= grade.rawgrademax*0.6);\n            },\n            lineGraphLabel: (state) => {\n                let label = [];\n                let number = state.maxDisplayGrade/state.gradeDisplayRange;\n                let left = 0;\n                let range = '';\n                for(i = 0; i < number - 1; i++){\n                    range = left + \" - \";\n                    left += state.gradeDisplayRange;\n                    range += left - 0.1;\n                    label.push(range);\n                }\n                range = left + \" - \" + state.maxDisplayGrade;\n                label.push(range);\n                return label;\n            },\n            getGradesByRange: (state, getters) => {\n                let lastMax = 0;\n                let currentMax = state.gradeDisplayRange;\n                let data = [];\n                let number = state.maxDisplayGrade/state.gradeDisplayRange;\n                let weightedGrades = getters.finalGradesSet.map(grade => (grade.finalgrade/grade.rawgrademax)*state.maxDisplayGrade);\n                for(i = 0; i < number - 1; i++){\n                    data.push(weightedGrades.filter(grade => grade >= lastMax && grade < currentMax).length);\n                    lastMax += state.gradeDisplayRange;\n                    currentMax += state.gradeDisplayRange;\n                }\n                data.push(weightedGrades.filter(grade => grade >= lastMax).length);\n                return data;\n            }\n        }\n    };\n\n    return {\n        store: store,\n        mutations: mutationsType,\n        actions: actionsType\n    }\n});"],"file":"grader-store.min.js"}